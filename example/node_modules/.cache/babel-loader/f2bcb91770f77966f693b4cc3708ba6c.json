{"ast":null,"code":"import { useState, useCallback, useEffect, createElement } from 'react';\nvar SamiChatBox = function SamiChatBox(_ref) {\n  var key = _ref.key;\n  console.log('key', key);\n  var _React$useState = useState(false),\n    isShow = _React$useState[0],\n    setIsShow = _React$useState[1];\n  var _React$useState2 = useState(),\n    uiConfig = _React$useState2[0],\n    setUiConfig = _React$useState2[1];\n  var getUiConfig = useCallback(function () {\n    try {\n      if (!key) return Promise.resolve();\n      return Promise.resolve(fetch(\"https://be-sami-law-dev.acom.vn/users/\" + key)).then(function (res) {\n        return Promise.resolve(res.json()).then(function (data) {\n          setUiConfig(data.uiConfig);\n        });\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [key]);\n  console.log('uiConfig', uiConfig);\n  useEffect(function () {\n    getUiConfig();\n  }, [getUiConfig]);\n  if (!uiConfig) return null;\n  return createElement(\"div\", {\n    id: 'sami_chatbot'\n  }, createElement(\"div\", {\n    id: 'sami_chatbot_btn',\n    onClick: function onClick() {\n      setIsShow(!isShow);\n    }\n  }, createElement(\"img\", {\n    src: 'https://file-services-tt.s3.amazonaws.com/1698714060.9769785sami-logo.webp'\n  })), createElement(\"div\", {\n    id: 'sami_chatbot_iframe',\n    style: {\n      width: '500px',\n      height: '80vh',\n      display: isShow ? 'block' : 'none',\n      opacity: isShow ? 1 : 0\n    }\n  }, createElement(\"iframe\", {\n    width: '100%',\n    height: '100%',\n    src: 'https://chat.sami-ai.vn/embed?id=e1521a1a-1f22-4673-91c4-806afe17e339',\n    frameBorder: '0'\n  }), createElement(\"div\", {\n    id: 'sami_chatbot_close',\n    onClick: function onClick() {\n      setIsShow(false);\n    }\n  }, createElement(\"svg\", {\n    xmlns: 'http://www.w3.org/2000/svg',\n    fill: 'none',\n    viewBox: '0 0 24 24',\n    stroke: 'currentColor',\n    style: {\n      width: '20px',\n      height: '20px'\n    }\n  }, createElement(\"path\", {\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n    d: 'M6 18L18 6M6 6l12 12'\n  })))));\n};\nexport { SamiChatBox };","map":{"version":3,"sources":["../src/index.tsx"],"names":["SamiChatBox","key","console","log","isShow","setIsShow","React","uiConfig","setUiConfig","getUiConfig","res","fetch","data","json","id","onClick","src","style","width","height","display","opacity","frameBorder","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","d"],"mappings":";IAgBaA,WAAW,GAAG,SAAdA,WAAW,CAAA,IAAA,EAAA;MAAMC,GAAG,GAAA,IAAA,CAAHA,GAAG;EAC/BC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,GAAG,CAAC;EACvB,IAAA,eAAA,GAA4BK,QAAc,CAAC,KAAK,CAAC;IAA1CF,MAAM,GAAA,eAAA,CAAA,CAAA,CAAA;IAAEC,SAAS,GAAA,eAAA,CAAA,CAAA,CAAA;EACxB,IAAA,gBAAA,GAAgCC,QAAc,CAAA,CAAY;IAAnDC,QAAQ,GAAA,gBAAA,CAAA,CAAA,CAAA;IAAEC,WAAW,GAAA,gBAAA,CAAA,CAAA,CAAA;EAE5B,IAAMC,WAAW,GAAGH,WAAiB,CAAA,YAAA;IAAA,IAAA;MACnC,IAAI,CAACL,GAAG,EAAE,OAAA,OAAA,CAAA,OAAA,CAAA,CAAA;MAAM,OAAA,OAAA,CAAA,OAAA,CACEU,KAAK,CAAA,wCAAA,GAA0CV,GAAK,CAAC,CAAA,CAAA,IAAA,CAAA,UAAjES,GAAG,EAAA;QAAA,OAAA,OAAA,CAAA,OAAA,CACUA,GAAG,CAACG,IAAI,CAAA,CAAE,CAAA,CAAA,IAAA,CAAA,UAAvBD,IAAI,EAAA;UACVJ,WAAW,CAACI,IAAI,CAACL,QAAQ,CAAC;;;KAC3B,CAAA,OAAA,CAAA,EAAA;MAAA,OAAA,OAAA,CAAA,MAAA,CAAA,CAAA,CAAA;;KAAE,CAACN,GAAG,CAAC,CAAC;EACTC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEI,QAAQ,CAAC;EAEjCD,SAAe,CAAC,YAAA;IACdG,WAAW,CAAA,CAAE;GACd,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,IAAI,CAACF,QAAQ,EAAE,OAAO,IAAI;EAE1B,OACED,aAAAA,CAAAA,KAAAA,EAAAA;IAAKQ,EAAE,EAAC;KACNR,aAAAA,CAAAA,KAAAA,EAAAA;IACEQ,EAAE,EAAC,kBAAkB;IACrBC,OAAO,EAAE,SAAA,OAAA,CAAA,EAAA;MACPV,SAAS,CAAC,CAACD,MAAM,CAAC;;KAGpBE,aAAAA,CAAAA,KAAAA,EAAAA;IAAKU,GAAG,EAAC;IAA+E,CACpF,EACNV,aAAAA,CAAAA,KAAAA,EAAAA;IACEQ,EAAE,EAAC,qBAAqB;IACxBG,KAAK,EAAE;MACLC,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAEhB,MAAM,GAAG,OAAO,GAAG,MAAM;MAClCiB,OAAO,EAAEjB,MAAM,GAAG,CAAC,GAAG;;KAGxBE,aAAAA,CAAAA,QAAAA,EAAAA;IACEY,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,MAAM;IACbH,GAAG,EAAC,uEAAuE;IAC3EM,WAAW,EAAC;IACZ,EACFhB,aAAAA,CAAAA,KAAAA,EAAAA;IACEQ,EAAE,EAAC,oBAAoB;IACvBC,OAAO,EAAE,SAAA,OAAA,CAAA,EAAA;MACPV,SAAS,CAAC,KAAK,CAAC;;KAGlBC,aAAAA,CAAAA,KAAAA,EAAAA;IACEiB,KAAK,EAAC,4BAA4B;IAClCC,IAAI,EAAC,MAAM;IACXC,OAAO,EAAC,WAAW;IACnBC,MAAM,EAAC,cAAc;IACrBT,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;;KAEhCb,aAAAA,CAAAA,MAAAA,EAAAA;IACEqB,aAAa,EAAC,OAAO;IACrBC,cAAc,EAAC,OAAO;IACtBC,CAAC,EAAC;IACF,CACE,CACF,CACF,CACF;AAEV,CAAA","sourcesContent":["import * as React from 'react'\nimport './styles.module.css'\n\ninterface Props {\n  key: string\n}\ninterface UiConfig {\n  chatBoxName: string\n  model: string\n  botBackgroundColor: string\n  botTextColor: string\n  containerWidth: number\n  containerHeight: number\n  embedCollection: string\n}\n\nexport const SamiChatBox = ({ key }: Props) => {\n  console.log('key', key)\n  const [isShow, setIsShow] = React.useState(false)\n  const [uiConfig, setUiConfig] = React.useState<UiConfig>()\n\n  const getUiConfig = React.useCallback(async () => {\n    if (!key) return\n    const res = await fetch(`https://be-sami-law-dev.acom.vn/users/${key}`)\n    const data = await res.json()\n    setUiConfig(data.uiConfig)\n  }, [key])\n  console.log('uiConfig', uiConfig)\n\n  React.useEffect(() => {\n    getUiConfig()\n  }, [getUiConfig])\n\n  if (!uiConfig) return null\n\n  return (\n    <div id='sami_chatbot'>\n      <div\n        id='sami_chatbot_btn'\n        onClick={() => {\n          setIsShow(!isShow)\n        }}\n      >\n        <img src='https://file-services-tt.s3.amazonaws.com/1698714060.9769785sami-logo.webp' />\n      </div>\n      <div\n        id='sami_chatbot_iframe'\n        style={{\n          width: '500px',\n          height: '80vh',\n          display: isShow ? 'block' : 'none',\n          opacity: isShow ? 1 : 0\n        }}\n      >\n        <iframe\n          width='100%'\n          height='100%'\n          src='https://chat.sami-ai.vn/embed?id=e1521a1a-1f22-4673-91c4-806afe17e339'\n          frameBorder='0'\n        />\n        <div\n          id='sami_chatbot_close'\n          onClick={() => {\n            setIsShow(false)\n          }}\n        >\n          <svg\n            xmlns='http://www.w3.org/2000/svg'\n            fill='none'\n            viewBox='0 0 24 24'\n            stroke='currentColor'\n            style={{ width: '20px', height: '20px' }}\n          >\n            <path\n              strokeLinecap='round'\n              strokeLinejoin='round'\n              d='M6 18L18 6M6 6l12 12'\n            />\n          </svg>\n        </div>\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}